# ergoknife2touch

### imgur link

* imgur pic link
  https://imgur.com/a/k03YgLD
* imgur demo video link
  https://imgur.com/5lGmcCW

![image](https://github.com/ouser555/ergoknife2touch/blob/main/pic/001.jpg)



延續了前一代Ergoknife分體鍵盤，更換了一些性能更強的組件，保留用螺絲調整的傾斜設計。

照片上看到的鍵盤都是一樣的透明色，差別只是有還沒撕膠膜的或是裝了特別的鍵帽，

或是開了燈效，都還是同一組鍵盤。

所有組件都可以靠一隻螺絲起子簡易拆裝的設計，更換部件清潔都很方便。

連接左右鍵盤只需要普通的3.5mm音源線即可，選擇會比較多。

.

* 左手配置一組Trackpoint和OLED螢幕，右手則改成了支援多指的觸控板。

.

* 這次的 Trackpoint 的設計改採用 Joycon 類比搖桿加上trackpad來替代先前的數位壓力式模組，

  精準度與可操控性都有提升，

* 在軟體方面也特別改成可以分別切換左手Trackpoint的功能和右手trackpad的功能

  當前狀態也會顯示在OLED螢幕上。



![image](https://github.com/ouser555/ergoknife2touch/blob/main/pic/006.jpg)

* 左手trackpoint功能說明

  1. 滑鼠移動

  2. 滾輪上下左右

  3. WASD 四向鍵

  4. UWASD 自訂義四向鍵 可用VIA設定

  5. JOYSTICK R 左搖桿

  6. JOYSTICK R 右搖桿

  7. JOYSTICK Z 板機類比


.

其中搖桿的功能可配合其他搖桿軟體設置更多操作，
	
但此鍵盤並非設定為遊戲用鍵盤，搖桿的設定只是為了提供更多靈活性的考量，
	
所以遊戲使用的精準度就不是在保證的功能範圍內了。

.

搖桿中鍵功能沒有打開，因為該鍵需要的操作力度過大，怕影響機構壽命所以不開放此功能。
	
有這個需求的，剛好自己會改軟體的使用者，可以自己修改，硬體線路都有保留。
	
硬體有預留一組滾輪編碼器/旋轉編碼器的接口，使用者也可以自行飛線改裝。


![image](https://github.com/ouser555/ergoknife2touch/blob/main/pic/002.jpg)

* 右手trackpad功能說明

  1. 單指滑動為普通滑鼠鼠標。

  2. 單指點擊>滑鼠左鍵。

  3. 雙指點擊>滑鼠右鍵。

  4. 三指按住0.5秒後放開>自定義按鍵 user0，預設為中鍵。

  5. 雙指往四個方向划動>四向滾輪。

  6. 雙指放大縮小>此手勢分別有三種設定

     a. 對普通網頁或編輯器的 zoom in/out，其實就是一般ctrl+滾輪的功能。

     b. 音量調整up/dowm。

     c. 自定義按鍵，user 5、6。 

     d. 關閉此功能，由於某些人可能容易把雙指的滾輪和這個放大縮小的手勢搞混，比方手抖造成的誤操作，所以也讓使用這能夠關閉這個功能。

  7. 單指4向swipe，通過單指快速往四個方向掃掠分別對應到四個可自定義按鍵，user 1、2、3、 4預設為數字小鍵盤4、6、2、8。

     由於這個操作也是要依靠使用者的習慣及熟練度才能有較好的體驗，所以如果想關閉這個功能就直接把user 1、2、3、4鍵依喜好設成無按鍵即可。

  8. 雖然這個觸控板硬體性能可以支援到5指，但此觸控板的機構條件，實在是很難再放下更多手指了，所以這應該是比較合理的配置了。

  9. 為了在這個尺寸上合理的放置觸控板，所以犧牲了3個普通按鍵的鍵位，總按鍵數為35+32=67鍵，

     但觸控板提供的手勢自定義按鍵也達到了7鍵，所以可操控性實質上增加了。





![image](https://github.com/ouser555/ergoknife2touch/blob/main/pic/004.jpg)



此款鍵盤打開了大部分的RGB燈效，因為還沒針對此功能拍影片，所以可以先參考連結中其他鍵盤的功能展示

https://www.youtube.com/shorts/bci9zSVapj8  (相似度很高，音效是電腦端發出的)

https://www.youtube.com/watch?v=7f3usatOIKM (分體鍵盤的表現會稍有不同)

.

自己拍的部分效果展示，

https://imgur.com/a/ag3FOmy




![image](https://github.com/ouser555/ergoknife2touch/blob/main/pic/007.jpg)

### 這組鍵盤同樣有提供傾斜架的3D列印檔，有需要可以自行列印。

* 傾斜架 螺絲腳板本

  https://www.printables.com/model/740016-ergoknife2-adjust-tenting-stand

* 傾斜架 普通版本

  https://www.printables.com/model/871241-ergoknife2-adjust-tenting-stand





.

### 預設操作方式

  預設是普通的QWERT配列

  因為所有的按鍵都可以使用者自定義，這裡只說明必要的預設值。

  * Fn鍵

    左右手的Fn鍵為鍵盤中唯一一個1.5U的鍵，

    位置在從拇指邊往外數第三個鍵，

    唯一一個放置角度為35度的鍵。

  * 左搖桿模式設定

    * Master Fn+左往內數邊第二個鍵

  * 右搖桿模式設定

    * Master Fn+左往內數邊第三個鍵

  * RESET鍵

    由於沒有實體RESET鍵，所以設定了功能鍵實現這個功能，

    * Master Fn + 左邊第一個鍵

    * 此鍵盤如果按下RESET則會進入刷機模式，電腦會跳出一個磁碟空間，

      把要刷的UF2檔拖入然後稍等一下即可完成刷機。

      此功能鍵為刷機用，不是單純的RESET鍵，所以沒事不要去按。

    * 右鍵盤手接上USB線也可以用同樣方法操作這個鍵。

      
.

### VIA configurator 即時改鍵軟體

  * 先從github上下載ergoknife2的json檔

    https://github.com/ouser555/ergoknife2/blob/main/via%20config%20file/ErgoKnife2.json

    右上下角方欄位有一排圖標，中間有個download raw file的圖標，

    點選即可下載。

    

  * 打開網頁端app

    https://usevia.app/

    進入後可以看到最上方欄位有幾個圖標，點選最的最右邊的齒輪形圖標，

    將Show Design tab選項打開，上方圖標就會多了一個Design可以選擇，

    點選進入，選Load，然後選擇剛剛下載的ergoknife2.json檔，

    即會秀出鍵盤配列。
    
    ![image](https://github.com/ouser555/ergoknife2/blob/main/pic/0008.jpg)

    點選最上方的Configure圖標

    再點選Authorize device +，此時如果你的鍵盤已接上電腦，

    就會從跳出的對話框看到usevia.app要求與HID裝置連接，

    當中有一個ergoknife2的鍵盤，點選後鍵盤就能與APP連接。

    
    ![image](https://github.com/ouser555/ergoknife2/blob/main/pic/0007.jpg)
  * 可以看到鍵盤配列下方有兩個十字排列的按鍵，

    十字中間的X是沒有設定功能的，

    十字的四個方向則是UWASD模式的自定義欄位，

    可以嘗試設定按鍵操作看看。

    

  * 中間下方還有四個按鍵，這是作為滾輪編碼器的功能預留鍵，

    電路有預留功能腳位，目前沒有開放，有要改的可以再來訊討論。

    

* 開源連結

  https://github.com/ouser555/ergoknife2/tree/main

  ```
  make ergoknife2:via
  ```

  使用的QMK版本 qmk 0.22.13，其他版本不保證能正確運行。

  如果有需要改成最新版本可以參考qmk的changeLog

  https://github.com/qmk/qmk_firmware/tree/master/docs/ChangeLog

  依據它變動的項目去做修改。

  
## 線路圖
![image](https://github.com/ouser555/ergoknife2/blob/main/pic/circuit.jpg)
